Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 8
Rules claiming more threads will be scaled down.
Job stats:
job          count    min threads    max threads
---------  -------  -------------  -------------
align            1              1              1
all              1              1              1
ancestral        1              1              1
export           1              1              1
filter           1              1              1
refine           1              1              1
traits           1              1              1
translate        1              1              1
tree             1              8              8
total            9              1              8

Select jobs to execute...

[Thu Dec 11 11:35:42 2025]
Job 5: 
        Filtering to
          - 10 sequence(s) per country year
          - from 1950 onwards
        
Reason: Updated input files: data/metadata.tsv

[Thu Dec 11 11:35:43 2025]
Finished job 5.
1 of 9 steps (11%) done
Select jobs to execute...

[Thu Dec 11 11:35:43 2025]
Job 4: 
        Aligning sequences to config/reference.fasta
          - filling gaps with N
        
Reason: Input files updated by another job: results/filtered.fasta

[Thu Dec 11 11:35:44 2025]
Finished job 4.
2 of 9 steps (22%) done
Select jobs to execute...

[Thu Dec 11 11:35:44 2025]
Job 3: Building tree
Reason: Input files updated by another job: results/aligned.fasta

[Thu Dec 11 11:35:45 2025]
Finished job 3.
3 of 9 steps (33%) done
Select jobs to execute...

[Thu Dec 11 11:35:45 2025]
Job 2: 
        Refining tree
          - estimate timetree
          - use opt coalescent timescale
          - estimate marginal node dates
          - filter tips more than 4 IQDs from clock expectation
        
Reason: Input files updated by another job: results/aligned.fasta, results/tree_raw.nwk

[Thu Dec 11 11:35:50 2025]
Finished job 2.
4 of 9 steps (44%) done
Select jobs to execute...

[Thu Dec 11 11:35:50 2025]
Job 7: Inferring ancestral traits for state country
Reason: Input files updated by another job: results/tree.nwk


[Thu Dec 11 11:35:50 2025]
Job 8: Reconstructing ancestral sequences and mutations
Reason: Input files updated by another job: results/aligned.fasta, results/tree.nwk

[Thu Dec 11 11:35:51 2025]
Finished job 7.
5 of 9 steps (56%) done
[Thu Dec 11 11:35:51 2025]
Finished job 8.
6 of 9 steps (67%) done
Select jobs to execute...

[Thu Dec 11 11:35:51 2025]
Job 9: Translating amino acid sequences
Reason: Input files updated by another job: results/tree.nwk, results/nt_muts.json

[Thu Dec 11 11:35:51 2025]
Finished job 9.
7 of 9 steps (78%) done
Select jobs to execute...

[Thu Dec 11 11:35:51 2025]
Job 1: Exporting data files for for auspice
Reason: Missing output files: auspice/cache_valley.json; Input files updated by another job: results/tree.nwk, results/traits.json, results/aa_muts.json, results/branch_lengths.json, results/nt_muts.json

[Thu Dec 11 11:35:52 2025]
Finished job 1.
8 of 9 steps (89%) done
Select jobs to execute...

[Thu Dec 11 11:35:52 2025]
localrule all:
    input: auspice/cache_valley.json
    jobid: 0
    reason: Input files updated by another job: auspice/cache_valley.json
    resources: tmpdir=/tmp

[Thu Dec 11 11:35:52 2025]
Finished job 0.
9 of 9 steps (100%) done
Complete log: .snakemake/log/2025-12-11T113541.895342.snakemake.log
