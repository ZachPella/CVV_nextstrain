Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 4
Rules claiming more threads will be scaled down.
Job stats:
job          count    min threads    max threads
---------  -------  -------------  -------------
all              1              1              1
ancestral        1              1              1
export           1              1              1
refine           1              1              1
traits           1              1              1
translate        1              1              1
total            6              1              1

Select jobs to execute...

[Thu Sep 25 13:06:48 2025]
Job 2: 
        Refining tree
          - estimate timetree
          - use opt coalescent timescale
          - estimate marginal node dates
          - filter tips more than 4 IQDs from clock expectation
        
Reason: Code has changed since last execution; Params have changed since last execution

[Thu Sep 25 13:06:49 2025]
Error in rule refine:
    jobid: 2
    output: results/tree.nwk, results/branch_lengths.json
    shell:
        
        augur refine             --tree results/tree_raw.nwk             --alignment results/aligned.fasta             --metadata data/metadata.tsv             --output-tree results/tree.nwk             --output-node-data results/branch_lengths.json             --timetree             --coalescent opt             --date-confidence             --date-inference marginal             --clock-filter-iqd 4 
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2025-09-25T130648.121835.snakemake.log
